<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Honors Drupal Suite: rithonors-hstatus/hdata/hpoints/hpoints.module File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Honors Drupal Suite
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_730c1c732d49bcfed206689c3586d2aa.html">rithonors-hstatus</a></li><li class="navelem"><a class="el" href="dir_8f75310dbf73e4804ffbd704f415e7ec.html">hdata</a></li><li class="navelem"><a class="el" href="dir_a5a6ef8c8ab8db740b0e6a5218c245dd.html">hpoints</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">hpoints.module File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="a00024_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a159080fb5697c3757937e7ecb4a5e502"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00024.html#a159080fb5697c3757937e7ecb4a5e502">hpoints_menu</a> ()</td></tr>
<tr class="separator:a159080fb5697c3757937e7ecb4a5e502"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae45dd6daa9ddf046c940d5c2341a91fc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00024.html#ae45dd6daa9ddf046c940d5c2341a91fc">hpoints_submission</a> ($sid)</td></tr>
<tr class="separator:ae45dd6daa9ddf046c940d5c2341a91fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a340707d0f669e44a2ff33c54de1b8d23"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00024.html#a340707d0f669e44a2ff33c54de1b8d23">hpoints_perm</a> ()</td></tr>
<tr class="separator:a340707d0f669e44a2ff33c54de1b8d23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed9c6e1002740de2a1feec4d11bb4fee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00024.html#aed9c6e1002740de2a1feec4d11bb4fee">hpoints_theme</a> ($existing, $type, $theme, $path)</td></tr>
<tr class="separator:aed9c6e1002740de2a1feec4d11bb4fee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a9253eb91d4219c6b0fd19ee6bad478"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00024.html#a3a9253eb91d4219c6b0fd19ee6bad478">hpoints_action_info</a> ()</td></tr>
<tr class="separator:a3a9253eb91d4219c6b0fd19ee6bad478"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56e7a9e4c73807f52b0b8e1e71d82660"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00024.html#a56e7a9e4c73807f52b0b8e1e71d82660">hpoints_approve_action</a> ($submission)</td></tr>
<tr class="separator:a56e7a9e4c73807f52b0b8e1e71d82660"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac116de1aaafb0cdafcb2083eeebdc256"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00024.html#ac116de1aaafb0cdafcb2083eeebdc256">hpoints_reject_action</a> ($submission)</td></tr>
<tr class="separator:ac116de1aaafb0cdafcb2083eeebdc256"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78f37e1d1ede9d2f61c1a10e1b1d8d9d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00024.html#a78f37e1d1ede9d2f61c1a10e1b1d8d9d">hpoints_get_type_options</a> ()</td></tr>
<tr class="separator:a78f37e1d1ede9d2f61c1a10e1b1d8d9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a063502dac41df8a212d8fbb3aadbcc16"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00024.html#a063502dac41df8a212d8fbb3aadbcc16">hpoints_type_needs_email</a> ($typeid)</td></tr>
<tr class="separator:a063502dac41df8a212d8fbb3aadbcc16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6be87093b382e650cb1a6f699568dad1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6be87093b382e650cb1a6f699568dad1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>hpoints_views_bulk_operations_object_info</b> ()</td></tr>
<tr class="separator:a6be87093b382e650cb1a6f699568dad1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacf92abcbff235a6f3ab5bd2644adac8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00024.html#aacf92abcbff235a6f3ab5bd2644adac8">hpoints_views_api</a> ()</td></tr>
<tr class="separator:aacf92abcbff235a6f3ab5bd2644adac8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab559390fc640f02feecfb7a8cda1e1c0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00024.html#ab559390fc640f02feecfb7a8cda1e1c0">_hpoints_form_access</a> ()</td></tr>
<tr class="separator:ab559390fc640f02feecfb7a8cda1e1c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a425d5f4a21cb5e23929e563ece4ce086"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00024.html#a425d5f4a21cb5e23929e563ece4ce086">_hpoints_review_access</a> ($op, $submission=null, $account=null)</td></tr>
<tr class="separator:a425d5f4a21cb5e23929e563ece4ce086"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a17b3fc7ee94ae856bc7a7afd2fccdb4b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a17b3fc7ee94ae856bc7a7afd2fccdb4b"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>HPOINTS_SUBMIT_MSG</b> 'Please describe the activity that you believe should earn you points.'</td></tr>
<tr class="separator:a17b3fc7ee94ae856bc7a7afd2fccdb4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe107bb9f95e50fcabfc3092e35b87b5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afe107bb9f95e50fcabfc3092e35b87b5"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>HPOINTS_SUBMIT_WARN</b> 'Submissions will be reviewed and you will recieve an email when a decision is made.'</td></tr>
<tr class="separator:afe107bb9f95e50fcabfc3092e35b87b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44ded664b6f666ca8df0915e08f7543f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a44ded664b6f666ca8df0915e08f7543f"></a>
const&#160;</td><td class="memItemRight" valign="bottom"><b>HPOINTS_EMAIL_MSG</b> 'This type of submission requires a reference.'</td></tr>
<tr class="separator:a44ded664b6f666ca8df0915e08f7543f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file must be located in the hpoints folder and is loaded on every page. </p>

<p>Definition in file <a class="el" href="a00024_source.html">hpoints.module</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ab559390fc640f02feecfb7a8cda1e1c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_hpoints_form_access </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allows access if the user has the right to submit points </p>

<p>Definition at line <a class="el" href="a00024_source.html#l00232">232</a> of file <a class="el" href="a00024_source.html">hpoints.module</a>.</p>
<div class="fragment"><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                               {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">return</span> user_access(<span class="stringliteral">&#39;submit points&#39;</span>) || user_access(<span class="stringliteral">&#39;bulk submit points&#39;</span>);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a425d5f4a21cb5e23929e563ece4ce086"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_hpoints_review_access </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$submission</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$account</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allows access to the reviewing pages if the user has the 'review complementary learning' permission or is the superuser (UID 1)</p>
<p>Used for VBO </p>

<p>Definition at line <a class="el" href="a00024_source.html#l00242">242</a> of file <a class="el" href="a00024_source.html">hpoints.module</a>.</p>
<div class="fragment"><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                                                                   {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">if</span>(is_numeric($op)){</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        $account = user_load($op);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">return</span> user_access(<span class="stringliteral">&#39;administer points submissions&#39;</span>,$account) ||</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            user_access(<span class="stringliteral">&#39;review points submissions&#39;</span>,$account);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3a9253eb91d4219c6b0fd19ee6bad478"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hpoints_action_info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Implements hook_action_info </p>

<p>Definition at line <a class="el" href="a00024_source.html#l00124">124</a> of file <a class="el" href="a00024_source.html">hpoints.module</a>.</p>
<div class="fragment"><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                              {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">return</span> array(</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="stringliteral">&#39;hpoints_approve_action&#39;</span> =&gt; array(</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            <span class="stringliteral">&#39;description&#39;</span> =&gt; t(<span class="stringliteral">&#39;Approve Points Submission&#39;</span>),</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            <span class="stringliteral">&#39;type&#39;</span> =&gt; <span class="stringliteral">&#39;hpoints&#39;</span>,</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            <span class="stringliteral">&#39;configurable&#39;</span> =&gt; FALSE,</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        ),</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="stringliteral">&#39;hpoints_reject_action&#39;</span> =&gt; array(</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <span class="stringliteral">&#39;description&#39;</span> =&gt; t(<span class="stringliteral">&#39;Reject Points Submission&#39;</span>),</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            <span class="stringliteral">&#39;type&#39;</span> =&gt; <span class="stringliteral">&#39;hpoints&#39;</span>,</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            <span class="stringliteral">&#39;configurable&#39;</span> =&gt; FALSE,</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        ),</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="comment">/* Example action -- taken from Drupal</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">      &#39;user_block_ip_action&#39; =&gt; array(</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">      &#39;description&#39; =&gt; t(&#39;Ban IP address of current user&#39;),</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">      &#39;type&#39; =&gt; &#39;user&#39;,</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">      &#39;configurable&#39; =&gt; FALSE,</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">      &#39;hooks&#39; =&gt; array(</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">        &#39;nodeapi&#39; =&gt; array(&#39;presave&#39;, &#39;delete&#39;, &#39;insert&#39;, &#39;update&#39;, &#39;view&#39;),</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">        &#39;comment&#39; =&gt; array(&#39;view&#39;, &#39;insert&#39;, &#39;update&#39;, &#39;delete&#39;),</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">        &#39;user&#39; =&gt; array(&#39;logout&#39;),</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">      )</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">    ),*/</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  );</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a56e7a9e4c73807f52b0b8e1e71d82660"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hpoints_approve_action </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$submission</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs a database update to approve a Complearning submission, provided that the user has the appropriate permissions. </p>

<p>Definition at line <a class="el" href="a00024_source.html#l00154">154</a> of file <a class="el" href="a00024_source.html">hpoints.module</a>.</p>
<div class="fragment"><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                                            {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">if</span>(user_access(<span class="stringliteral">&#39;administer points submissions&#39;</span>) || user_access(<span class="stringliteral">&#39;review points submissions&#39;</span>)){</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        $submission[<span class="stringliteral">&#39;status&#39;</span>] = 1;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        hdata_points_save($submission);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    }<span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        drupal_set_message(t(<span class="stringliteral">&#39;You do not have sufficient priviledges to perform this action.&#39;</span>),<span class="stringliteral">&#39;warning&#39;</span>);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a78f37e1d1ede9d2f61c1a10e1b1d8d9d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hpoints_get_type_options </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Helper function to get type options.</p>
<p>Pulls types from hdata_points_type_list() and puts them in a form that the Form API will understand. </p>

<p>Definition at line <a class="el" href="a00024_source.html#l00181">181</a> of file <a class="el" href="a00024_source.html">hpoints.module</a>.</p>
<div class="fragment"><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                                   {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    $list = hdata_points_type_list();</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">foreach</span>($list as $type){</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        $options[$type[<span class="stringliteral">&#39;id&#39;</span>]] = $type[<span class="stringliteral">&#39;title&#39;</span>];</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">return</span> $options;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a159080fb5697c3757937e7ecb4a5e502"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hpoints_menu </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Implements hook_menu</p>
<p>hook_menu is called by drupal whenever a module is enabled or disabled to update the internal page registry.</p>
<p>Note that every page has a built-in permissions callback ("access callback") that determines if (1) it should be shown in menus and (2) if a user can visit it (throws a 403 on false) </p>

<p>Definition at line <a class="el" href="a00024_source.html#l00025">25</a> of file <a class="el" href="a00024_source.html">hpoints.module</a>.</p>
<div class="fragment"><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;                       {</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="comment">//AJAX callback</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="comment">//see docs for hpoints_cl_submission</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    $items[<span class="stringliteral">&#39;hpoints/submission/%&#39;</span>] = array(</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        <span class="stringliteral">&#39;title&#39;</span> =&gt; <span class="stringliteral">&#39;Points Submission&#39;</span>,</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        <span class="stringliteral">&#39;page callback&#39;</span> =&gt; <span class="stringliteral">&#39;hpoints_submission&#39;</span>,</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        <span class="stringliteral">&#39;page arguments&#39;</span> =&gt; array(2),</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        <span class="stringliteral">&#39;type&#39;</span> =&gt; MENU_CALLBACK,</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        <span class="stringliteral">&#39;access arguments&#39;</span> =&gt; array(<span class="stringliteral">&#39;review points submisstions&#39;</span>),</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    );</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="comment">//submission form</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="comment">//note that even though no % is in the path, anything following &#39;submitcl&#39; gets passed as an argument.</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="comment">//(This is true of all menu entries with blank type)</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    $items[<span class="stringliteral">&#39;hpoints/form&#39;</span>] = array(</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <span class="stringliteral">&#39;title&#39;</span> =&gt; <span class="stringliteral">&#39;Honors Points Submission Form&#39;</span>,</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <span class="stringliteral">&#39;page callback&#39;</span> =&gt; <span class="stringliteral">&#39;hpoints_build_form&#39;</span>,</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <span class="stringliteral">&#39;file&#39;</span> =&gt; <span class="stringliteral">&#39;hpoints.form.inc&#39;</span>,</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <span class="stringliteral">&#39;access callback&#39;</span> =&gt; <span class="stringliteral">&#39;_hpoints_form_access&#39;</span>,</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    );</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="comment">//Settings Page</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="comment">//TODO: needs two pages (as tabs) one for types</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    $items[<span class="stringliteral">&#39;admin/settings/hpoints&#39;</span>] = array(</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <span class="stringliteral">&#39;title&#39;</span> =&gt; <span class="stringliteral">&#39;hPoints Settings&#39;</span>,</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="stringliteral">&#39;description&#39;</span> =&gt; <span class="stringliteral">&#39;Adjust the points form settings.&#39;</span>,</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <span class="stringliteral">&#39;page callback&#39;</span> =&gt; <span class="stringliteral">&#39;drupal_get_form&#39;</span>,</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <span class="stringliteral">&#39;page arguments&#39;</span> =&gt; array(<span class="stringliteral">&#39;hpoints_admin_settings&#39;</span>),</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <span class="stringliteral">&#39;file&#39;</span> =&gt; <span class="stringliteral">&#39;hpoints.admin.inc&#39;</span>,</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="stringliteral">&#39;access arguments&#39;</span> =&gt; array(<span class="stringliteral">&#39;administer points submissions&#39;</span>),</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    );</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">return</span> $items;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a340707d0f669e44a2ff33c54de1b8d23"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hpoints_perm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Implements hook_perm</p>
<p>Just returns an array of strings to be used on the permissions page </p>

<p>Definition at line <a class="el" href="a00024_source.html#l00090">90</a> of file <a class="el" href="a00024_source.html">hpoints.module</a>.</p>
<div class="fragment"><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                       {</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">return</span> array(<span class="stringliteral">&#39;submit points&#39;</span>, <span class="stringliteral">&#39;bulk submit points&#39;</span>,</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="stringliteral">&#39;administer points submissions&#39;</span>, <span class="stringliteral">&#39;review points submissions&#39;</span>);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac116de1aaafb0cdafcb2083eeebdc256"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hpoints_reject_action </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$submission</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs a database update to reject a Complearning submission, provided that the user has the appropriate permissions. </p>

<p>Definition at line <a class="el" href="a00024_source.html#l00166">166</a> of file <a class="el" href="a00024_source.html">hpoints.module</a>.</p>
<div class="fragment"><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                                           {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">if</span>(user_access(<span class="stringliteral">&#39;administer points submissions&#39;</span>) || user_access(<span class="stringliteral">&#39;review points submissions&#39;</span>)){</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        $submission[<span class="stringliteral">&#39;status&#39;</span>] = -1;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        hdata_points_save($submission);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    }<span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        drupal_set_message(t(<span class="stringliteral">&#39;You do not have sufficient priviledges to perform this action.&#39;</span>),<span class="stringliteral">&#39;warning&#39;</span>);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae45dd6daa9ddf046c940d5c2341a91fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hpoints_submission </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$sid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>hpoints_cl_submission is an AJAX callback function to generate HTML from complearning submission data.</p>
<p>The design intent of this function was that it would be used to return HTML to an AJAX lightbox embedded in a general complearning reviewing page. As such, it does not display general information such as username, total hours, or time submitted. It merely gets the submission data and themes it with the theme hook "hpoints_cl_activity" </p>

<p>Definition at line <a class="el" href="a00024_source.html#l00070">70</a> of file <a class="el" href="a00024_source.html">hpoints.module</a>.</p>
<div class="fragment"><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                                 {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    $points = hdata_points_load($sid);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    $data = $points[<span class="stringliteral">&#39;data&#39;</span>];</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">if</span>($data){</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        $output = theme(<span class="stringliteral">&#39;hpoints_display&#39;</span>,$data);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    }<span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        $output = <span class="stringliteral">&#39;&lt;h1&gt;Not Found&lt;/h1&gt;&#39;</span>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    }</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="comment">//AJAX functions should echo the output and return null to prevent</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment">//the theme system from kicking in.</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    echo $output;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">return</span> null;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aed9c6e1002740de2a1feec4d11bb4fee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hpoints_theme </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$existing</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$theme</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Implements hook_theme</p>
<p>hook_theme defines "theme hooks" which are just functions or files that generate HTML. The benefit of doing this is that it makes it easy for other modules or themes to override your display. </p>

<p>Definition at line <a class="el" href="a00024_source.html#l00102">102</a> of file <a class="el" href="a00024_source.html">hpoints.module</a>.</p>
<div class="fragment"><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                                                       {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">return</span> array(</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <span class="stringliteral">&#39;hpoints_display&#39;</span> =&gt; array(</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            <span class="stringliteral">&#39;arguments&#39;</span> =&gt; array(<span class="stringliteral">&#39;submission&#39;</span> =&gt; NULL),</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <span class="stringliteral">&#39;template&#39;</span> =&gt; <span class="stringliteral">&#39;pointsubmission&#39;</span>,</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        ),</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="stringliteral">&#39;hpoints_reference_email&#39;</span> =&gt; array(</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            <span class="stringliteral">&#39;arguments&#39;</span> =&gt; array(<span class="stringliteral">&#39;student_name&#39;</span> =&gt; <span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;student_email&#39;</span>=&gt;<span class="stringliteral">&#39;&#39;</span>,</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                                <span class="stringliteral">&#39;reference_name&#39;</span> =&gt; <span class="stringliteral">&#39;&#39;</span>, <span class="stringliteral">&#39;reference_email&#39;</span> =&gt; <span class="stringliteral">&#39;&#39;</span>,</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                                <span class="stringliteral">&#39;points_submission&#39;</span> =&gt; <span class="stringliteral">&#39;&#39;</span>),</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            <span class="stringliteral">&#39;template&#39;</span> =&gt; <span class="stringliteral">&#39;email.reference&#39;</span>,</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        ),</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="stringliteral">&#39;hpoints_form_bulk_users&#39;</span> =&gt; array(</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            <span class="stringliteral">&#39;arguments&#39;</span> =&gt; array(<span class="stringliteral">&#39;default_value&#39;</span> =&gt; <span class="stringliteral">&#39;&#39;</span>),</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            <span class="stringliteral">&#39;template&#39;</span> =&gt; <span class="stringliteral">&#39;bulkui&#39;</span>,</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        ),</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    );</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a063502dac41df8a212d8fbb3aadbcc16"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hpoints_type_needs_email </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$typeid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Helper function to determine which points need emails sent as part of a submission </p>

<p>Definition at line <a class="el" href="a00024_source.html#l00193">193</a> of file <a class="el" href="a00024_source.html">hpoints.module</a>.</p>
<div class="fragment"><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                                          {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    $list = hdata_points_type_list();</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">return</span> $list[$typeid][<span class="stringliteral">&#39;send_email&#39;</span>] == 1;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aacf92abcbff235a6f3ab5bd2644adac8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hpoints_views_api </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Implements hook_views_api</p>
<p>This tells Views that hcomplearn has a views.inc file. </p>

<p>Definition at line <a class="el" href="a00024_source.html#l00222">222</a> of file <a class="el" href="a00024_source.html">hpoints.module</a>.</p>
<div class="fragment"><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                            {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">return</span> array(<span class="stringliteral">&#39;api&#39;</span>=&gt;2);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Mar 17 2013 02:11:56 for Honors Drupal Suite by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
